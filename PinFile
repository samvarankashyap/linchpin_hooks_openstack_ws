---
os-server-addl-vols:
  topology:
    topology_name: os-server-inst
    resource_groups:
      - resource_group_name: os-server-test-lp
        resource_group_type: openstack
        resource_definitions:
          - name: linchpintestkey
            role: os_keypair
          - name: "linchpintestdatabase"
            role: os_server
            flavor: m1.small
            image: CentOS-7-x86_64-GenericCloud-1808
            count: 1
            keypair: linchpintestkey
            networks:
              - provider_net_cci_6
        credentials:
          filename: clouds.yaml
          profile: openstack
  layout:
    inventory_layout:
      vars:
        hostname: __IP__
      hosts:
        addl-vols-node:
          count: 1
          host_groups:
            - hello
#  hooks:
#    postup:
#      # check_ssh, ping and port_up are builtin hooks
#      # note builtin hooks follow different structure when compared to localhooks
#      - name: check_ssh
#        extra_vars:
#          # since checking ssh depends on logging into machine pem file, ssh_user are must
#          ansible_ssh_private_key_file:  /home/srallaba/.ssh/test_keypairsk2.key
#          ansible_ssh_user: centos
#          ansible_ssh_common_args: "'-o StrictHostKeyChecking=no'"
#          ansible_python_interpreter: "/usr/bin/python"
#      - name: ping
